<div class="container-fluid">
    <div class="row">
        <div class="col-lg-2">
            <app-sidebar></app-sidebar>
        </div>
        <div class="col-lg-10">
          
           <div class="container my-4 p-1">
            @if (id) {
                <h3 class="text-center">Update Recipe Details</h3>

            }@else{
                <h3 class="text-center">Add Recipe Details</h3>


            }

            <div class="form  p-3 rounded-3 shadow">
                <div class="d-flex justify-content-center mb-4"><img [src]="recipeDetails.image" width="100px" height="100px"  alt="no image"></div>
                <div class="mb-4 d-flex  ">
                    <input [(ngModel)]="recipeDetails.name" type="text" class="form-control" placeholder="Recipe Name">
                    <input [(ngModel)]="recipeDetails.servings" type="text" class="form-control ms-3" placeholder="Recipe Servings(ex:4)">
                </div>
                <div class="mb-4 d-flex ">
                    <input [(ngModel)]="recipeDetails.prepTimeMinutes" type="text" class="form-control" placeholder="Recipe Preparation time in Minutes">
                    <input [(ngModel)]="recipeDetails.cookTimeMinutes" type="text" class="form-control ms-3" placeholder="Recipe Cooking time in Minutes">
                </div>
                <div class="mb-4 d-flex ">
                    <input type="text" [(ngModel)]="recipeDetails.image" class="form-control" placeholder="Recipe Image URL">
                    <input type="text" [(ngModel)]="recipeDetails.caloriesPerServing" class="form-control ms-3" placeholder="Recipe Calorie Per Servings(ex:350)">
                </div>
                <div class="mb-4 d-flex ">
                <div class="w-100">
                        <h5>Choose Cuisine</h5>
                        <select [(ngModel)]="recipeDetails.cuisine" name="cuisine" id="cuisine" class="form-control">
                            <option value="" selected hidden >Choose Cuisine </option>
                           @for (item of cuisineArray; track $index) {
                            <option [value]="item">{{item}}</option>
                           }
        
                        </select>
                </div>
                  
                  <div class="ms-3 w-100">
                    <h5>Choose difficulty</h5>
                        <select [(ngModel)]="recipeDetails.difficulty"  name="difficulty" id="difficulty"   class="form-control ">
                            <option value="Choose Mode of Cooking" selected hidden>Choose Mode of cooking </option>
                            <option value="Easy">Easy</option>
                            <option value="Medium">Medium</option>
                            <option value="Hard">Hard</option>
                        </select>
                  </div>
                    
                   
                </div>
                <div class="mb-4 d-flex ">
                    <textarea #ingredient type="text" class="form-control" placeholder="App Recipe Ingredients"></textarea>
                        <button (click)="addIngredients(ingredient)" class="btn btn-primary"><i class="fa-solid fa-plus"></i></button>
                    <textarea #instruction type="text" class="form-control ms-3" placeholder="Cooking Instructions"></textarea>
                    <button (click)="addInstructions(instruction)" class="btn btn-primary"><i class="fa-solid fa-plus"></i></button>

                </div>
                <div class="d-flex mb-4">
                  @for (item of ingredientValue; track $index) {
                  
                        <input [value]="item" type="text" placeholder="Recipe Ingredients" class="form-control">
                        <button (click)="removeIngredients(item)" class="btn text-danger"><i class="fa-solid fa-trash"></i></button>
                 
                  }
                  @for (item of instructionsValue; track $index) {
                    <input [value]="item" type="text" placeholder="Recipe Instructions" class="form-control">
                    <button (click)="removeInstruction(item)" class="btn text-danger"><i class="fa-solid fa-trash"></i></button>
                  }
                </div>
                <div class="mb-4">
                    <div class="border rounded p-2">
                        <p class="mb-2">
                            Choose Meal Type of the Recipe:
                           @if (id) {
                            @for (item of mealType; track $index) {
                                <span class="m-2 border rounded p-1">{{item}}<i (click)="removeMealType(item)" class="ms-2 fa-solid fa-xmark"></i></span>
                                
                            }
                           }@else {
                            @for (item of mealType; track $index) {
                                <span class="m-2 border rounded p-1">{{item}}</span>
                            }
                           }
                        </p>
                        <div class="d-flex flex-wrap my-1">
                           @for (item of mealTypeArray; track $index) {
                            <div class="border rounded p-1 m-2">
                               <label for="item"> <input (change)="mealtypeSelect($event)" type="checkbox" [name]="item" [id]="item">{{item}}</label>
                            </div>
                           }
                        </div>
                    </div>

                </div>
                @if (id) {
                    <div class="d-flex align-items-center justify-content-center"> <button (click)="updateRecipe()" class="btn btn-success">Update Recipe</button></div>

                }@else{
                    <div class="d-flex align-items-center justify-content-center"> <button (click)="saveRecipe()" class="btn btn-success">Add Recipe</button></div>

                }
            </div>
           </div>
        </div>
    </div>
</div>
